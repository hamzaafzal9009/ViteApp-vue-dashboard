{"version":3,"sources":["webpack:///./src/components/RidersComponents/ImageUpload.vue?c6af","webpack:///./src/components/RidersComponents/ImageUpload.vue?e25e","webpack:///src/components/RidersComponents/ImageUpload.vue","webpack:///./src/components/RidersComponents/ImageUpload.vue?d88d","webpack:///./src/components/RidersComponents/ImageUpload.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","dialog","close","on","$event","showImg","showCroppie","staticStyle","cropped","_e","ref","getViewPort","height","width","result","image","staticClass","_v","slot","upload","cropStatus","crop","update","reset","pickFile","staticRenderFns","props","cover","type","Boolean","default","profile","hideOverlay","String","viewPort","Object","optionsSize","data","file","fileName","options","format","circle","size","checkbox","computed","methods","$refs","click","target","files","name","split","pop","reader","readAsDataURL","onload","url","value","setSnackBar","text","color","croppieRef","$confirm","$emit","dataURLtoBlob","n","u8arr","bstr","charCodeAt","blob","output","component"],"mappings":"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","file":"js/chunk-02ff8f37.551bf6c2.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title || 'Upload Image',\"visible\":_vm.dialog,\"width\":\"50%\",\"before-close\":_vm.close},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('el-row',{attrs:{\"gutter\":20}},[(_vm.showImg && !_vm.showCroppie)?_c('el-col',{attrs:{\"span\":24}},[_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"250\"},attrs:{\"src\":_vm.cropped,\"fit\":\"contain\"}})],1):_vm._e(),(_vm.showCroppie)?_c('el-col',{attrs:{\"span\":24}},[_c('vue-croppie',{ref:\"croppieRef\",attrs:{\"enable-resize\":true,\"viewport\":_vm.getViewPort,\"boundary\":{ height: 500, width: '100%' }},on:{\"result\":_vm.result}})],1):_vm._e(),(!_vm.image && !_vm.showCroppie)?_c('el-col',{staticClass:\"text-center\",attrs:{\"span\":24}},[_c('i',{staticClass:\"fal fa-upload\"}),_c('div',{staticClass:\"grey--text\"},[_vm._v(\" Browse Image from here \")])]):_vm._e()],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('input',{ref:\"image\",staticClass:\"d-none\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.upload}}),_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"Cancel\")]),(!_vm.cropStatus && _vm.showCroppie)?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.crop}},[_vm._v(\"Crop\")]):_vm._e(),(_vm.cropped)?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.update}},[_vm._v(\"Update\")]):_vm._e(),(_vm.cropped)?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.update}},[_vm._v(\"Upload\")]):_vm._e(),(!_vm.image)?_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.pickFile}},[_vm._v(\"Browse\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\"Reset\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :title=\"title || 'Upload Image'\"\n    :visible.sync=\"dialog\"\n    width=\"50%\"\n    :before-close=\"close\"\n  >\n    <el-row :gutter=\"20\">\n      <el-col :span=\"24\" v-if=\"showImg && !showCroppie\">\n        <el-image\n          style=\"width: 100%; height: 250\"\n          :src=\"cropped\"\n          fit=\"contain\"\n        ></el-image>\n      </el-col>\n      <el-col :span=\"24\" v-if=\"showCroppie\">\n        <vue-croppie\n          ref=\"croppieRef\"\n          :enable-resize=\"true\"\n          :viewport=\"getViewPort\"\n          :boundary=\"{ height: 500, width: '100%' }\"\n          @result=\"result\"\n        ></vue-croppie>\n      </el-col>\n      <el-col :span=\"24\" v-if=\"!image && !showCroppie\" class=\"text-center\">\n        <i class=\"fal fa-upload\"></i>\n        <div class=\"grey--text\">\n          Browse Image from here\n        </div>\n      </el-col>\n    </el-row>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <input\n        ref=\"image\"\n        type=\"file\"\n        class=\"d-none\"\n        accept=\"image/*\"\n        @change=\"upload\"\n      />\n      <el-button @click=\"close\">Cancel</el-button>\n      <el-button type=\"success\" v-if=\"!cropStatus && showCroppie\" @click=\"crop\"\n        >Crop</el-button\n      >\n\n      <el-button type=\"success\" v-if=\"cropped\" @click=\"update\"\n        >Update</el-button\n      >\n\n      <el-button type=\"success\" v-if=\"cropped\" @click=\"update\"\n        >Upload</el-button\n      >\n\n      <el-button type=\"warning\" v-if=\"!image\" @click=\"pickFile\"\n        >Browse</el-button\n      >\n\n      <el-button type=\"primary\" v-else text @click=\"reset\">Reset</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VueCroppie from \"vue-croppie\";\nimport { mapMutations } from \"vuex\";\nimport \"croppie/croppie.css\";\nVue.use(VueCroppie);\nexport default {\n  props: {\n    cover: {\n      type: Boolean,\n      default: false,\n    },\n    profile: {\n      type: Boolean,\n      default: false,\n    },\n    // Temporary fix carried out for overlay issue when v-dialog is present inside another v-dialog\n    hideOverlay: {\n      type: Boolean,\n      default: false,\n    },\n    title: {\n      type: String,\n      default: null,\n    },\n    viewPort: {\n      type: Object,\n      default() {\n        return {\n          width: \"100%\",\n          height: 350,\n        };\n      },\n    },\n    optionsSize: {\n      type: String,\n      default: \"original\",\n    },\n  },\n  data() {\n    return {\n      dialog: true,\n      image: \"\",\n      showCroppie: false,\n      cropped: \"\",\n      cropStatus: false,\n      showImg: false,\n      file: \"\",\n      fileName: \"\",\n      options: {\n        format: \"jpeg\",\n        circle: false,\n        size: this.optionsSize,\n      },\n      checkbox: true,\n    };\n  },\n  computed: {\n    getViewPort() {\n      if (this.cover) {\n        return { width: \"100%\", height: 300, type: \"square\" };\n      } else if (this.profile) {\n        return { width: 200, height: 200, type: \"circle\" };\n      } else {\n        return {\n          width: this.viewPort.width,\n          height: this.viewPort.height,\n          type: \"square\",\n        };\n      }\n    },\n  },\n  methods: {\n    ...mapMutations({\n      setSnackBar: \"common/setSnackBar\",\n    }),\n\n    pickFile() {\n      this.$refs.image.click();\n    },\n    upload(file) {\n      if (file.target.files[0].name.split(\".\").pop() !== \"svg\") {\n        const reader = new FileReader();\n        this.fileName = file.target.files[0].name;\n        reader.readAsDataURL(file.target.files[0]);\n        this.showCroppie = true;\n        reader.onload = () => {\n          this.$refs.croppieRef.bind({\n            url: reader.result,\n          });\n          this.image = reader.result;\n          this.file = file.target.files;\n          file.target.value = null;\n        };\n      } else {\n        this.setSnackBar({\n          text: \"SVG image not allowed here.\",\n          color: \"red\",\n        });\n      }\n    },\n    crop() {\n      this.$refs.croppieRef.result(this.options, (output) => {\n        this.cropped = output;\n      });\n      this.showCroppie = false;\n      this.cropStatus = false;\n      this.showImg = true;\n    },\n    close() {\n      this.$confirm(\"Are you sure to close this dialog?\")\n        .then((_) => {\n          this.dialog = false;\n          this.$emit(\"close\");\n          this.reset();\n          done();\n        })\n        .catch((_) => {});\n    },\n    update() {\n      this.$emit(\"croppedImage\", this.dataURLtoBlob(this.cropped));\n      this.$emit(\"imageName\", this.fileName);\n      this.$emit(\"input\", this.dataURLtoBlob(this.cropped));\n      this.$emit(\"base64Data\", this.cropped);\n      this.$emit(\"actualFile\", this.file);\n      this.dialog = false;\n      this.reset();\n    },\n    dataURLtoBlob(dataurl) {\n      const arr = dataurl.split(\",\");\n      const mime = arr[0].match(/:(.*?);/)[1];\n      const bstr = atob(arr[1]);\n      let n = bstr.length;\n      const u8arr = new Uint8Array(n);\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n      const blob = new Blob([u8arr], { type: mime });\n      blob.name = this.fileName;\n      return blob;\n    },\n    result(output) {\n      this.cropped = output;\n    },\n    reset() {\n      this.cropped = null;\n      this.cropStatus = false;\n      this.showImg = false;\n      this.showCroppie = false;\n      this.image = \"\";\n      this.file = \"\";\n      this.fileName = \"\";\n    },\n  },\n};\n</script>\n\n<style>\n.fal.fa-upload {\n  font-size: 72px;\n  margin-bottom: 20px;\n}\n.d-none {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageUpload.vue?vue&type=template&id=97ee5c0e&\"\nimport script from \"./ImageUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageUpload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}